ðŸš€ COPY THIS ENTIRE SQL SCRIPT AND PASTE IT INTO SUPABASE SQL EDITOR:

-------- START COPYING FROM HERE --------

-- Create the publications table
CREATE TABLE publications (
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    author_name TEXT NOT NULL,
    project_name TEXT NOT NULL,
    summary TEXT NOT NULL,
    project_link TEXT NOT NULL,
    species TEXT[] NOT NULL,
    missions TEXT[] NOT NULL,
    year INTEGER NOT NULL,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Enable Row Level Security
ALTER TABLE publications ENABLE ROW LEVEL SECURITY;

-- Allow everyone to read, insert, update, delete
CREATE POLICY "Allow all" ON publications FOR ALL USING (true);

-- Create indexes for better performance
CREATE INDEX idx_publications_created_at ON publications(created_at DESC);
CREATE INDEX idx_publications_year ON publications(year);
CREATE INDEX idx_publications_species ON publications USING GIN(species);
CREATE INDEX idx_publications_missions ON publications USING GIN(missions);

-- Add a test publication
INSERT INTO publications (
    author_name, project_name, summary, project_link, species, missions, year
) VALUES (
    'NASA Research Team',
    'Effects of Microgravity on Human Cells',
    'This groundbreaking study examines how microgravity conditions on the International Space Station affect human cellular processes.',
    'https://www.nasa.gov',
    ARRAY['Humans'],
    ARRAY['ISS'],
    2024
);

-------- STOP COPYING HERE --------

STEP 3: Click "Run" button in Supabase SQL Editor

STEP 4: Go back to your app at http://localhost:3000 and try posting again!

âœ… Your post feature will work immediately after running this SQL!
